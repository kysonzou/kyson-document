---
category:
  - Tech
tags:
  - Linux
  - MacOS
status: Done
---
```bash
traceroute www.baidu.com 

traceroute: Warning: www.baidu.com has multiple addresses; using 153.3.238.102

traceroute to www.a.shifen.com (153.3.238.102), 64 hops max, 40 byte packets

 1  192.168.2.1 (192.168.2.1)  2.863 ms  2.044 ms  1.980 ms

 2  192.168.1.1 (192.168.1.1)  2.549 ms  2.823 ms  2.350 ms

 3  * 172.17.96.1 (172.17.96.1)  26.160 ms  9.707 ms

 4  101.71.244.225 (101.71.244.225)  6.087 ms

    101.71.244.165 (101.71.244.165)  7.571 ms

    124.90.33.229 (124.90.33.229)  6.710 ms

 5  101.69.245.209 (101.69.245.209)  12.743 ms * *

 6  219.158.124.138 (219.158.124.138)  15.704 ms

    219.158.100.122 (219.158.100.122)  16.522 ms

    219.158.115.118 (219.158.115.118)  17.275 ms解释一下
 7  * * *

 8  * * *

 9  * * *

10  * * *
```


**总体信息**
```bash
traceroute: Warning:  www.baidu.com  has multiple addresses; using 153.3.238.102

traceroute to www.a.shifen.com (153.3.238.102), 64 hops max, 40 byte packets
```

- Warning: www.baidu.com has multiple addresses：提示 www.baidu.com 关联了多个 IP 地址（典型于使用负载均衡或 CDN），本次 traceroute 选择使用 153.3.238.102 作为目标地址。

- 64 hops max, 40 byte packets：指定了 traceroute 在尝试跟踪路径时的最大跳数（64），以及发送数据包的大小（40 字节）。

**路由分析**
```bash
 1  192.168.2.1 (192.168.2.1)  2.863 ms  2.044 ms  1.980 ms
```
  
-  **第一跳**：数据包从你的设备到达本地网络的第一个路由器（192.168.2.1），RTT 为 2.863 ms、2.044 ms 和 1.980 ms。这是你的本地网络网关。

```bash
 2  192.168.1.1 (192.168.1.1)  2.549 ms  2.823 ms  2.350 ms
```
- **第二跳**：数据包经过第二个本地路由器或网络设备（192.168.1.1），RTT 为 2.549 ms、2.823 ms 和 2.350 ms。这可能是另一个本地网关或 NAT 路由器。

```bash
 3  * 172.17.96.1 (172.17.96.1)  26.160 ms  9.707 ms
```
- **第三跳**：显示了一个星号（*），表示没有收到来自该跳的 ICMP 响应，但随后有两个 RTT 时间，表明数据包最终被路由器 172.17.96.1 处理了。这可能是防火墙配置或路由器的 ICMP 策略导致的。

```bash
 4  101.71.244.225 (101.71.244.225)  6.087 ms
    101.71.244.165 (101.71.244.165)  7.571 ms
    124.90.33.229 (124.90.33.229)  6.710 ms
```
- **第四跳**：显示了三个不同的 IP 地址和 RTT，这表明这一步可能涉及多个负载均衡路由器或网络设备。多条路径可能表明网络上的负载均衡策略，数据包可能选择不同的路径到达下一跳。

```bash
 5  101.69.245.209 (101.69.245.209)  12.743 ms * *
```

- **第五跳**：第一次 RTT 为 12.743 ms，后面两个星号表示没有收到其他 ICMP 响应。这可能是由于中间路由器不返回 ICMP 超时消息，或者由于安全策略限制。

```bash
 6  219.158.124.138 (219.158.124.138)  15.704 ms

    219.158.100.122 (219.158.100.122)  16.522 ms

    219.158.115.118 (219.158.115.118)  17.275 ms
```
- **第六跳**：显示了三个不同的 IP 地址和 RTT，表示数据包可能经过一个具有多路径路由的网络段或 ISP 节点。

```bash
 7  * * *

 8  * * *

 9  * * *

10  * * *

```
- **第7、8、9、10**：说明已经没有收到任何ICMP相应了，应该是路由器不反回ICMP超时消息了

**解释和分析**

- **多条路径**：有些跳数显示了多个 IP 地址，说明数据包在这些跳上可能经过了负载均衡的网络或多个路由节点。
- **星号（\*\*\*\*\*）**：表示在特定跳数上没有收到 ICMP 响应，可能是因为路由器或设备配置为不响应 ICMP 超时消息或有防火墙规则阻止。

