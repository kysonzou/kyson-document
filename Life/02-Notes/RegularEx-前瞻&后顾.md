---
category:
- Tech
tags:
- RegularE
status: Done
---
断言（Assertion）用于检查匹配位置的条件，而不消耗字符串的内容。常用的断言包括正向前瞻断言、负向前瞻断言、正向后顾断言、负向后顾断言。

#### 1. 正向前瞻 (?=...)

正向前瞻 (?=...) 用于匹配条件为真的位置，且不包含在最终匹配的字符串中。

**示例**：匹配以 “abc” 后跟数字的字符串。
```regex
abc(?=\d)
```
解释：
- abc：匹配字符串 “abc”。

- `(?=\d)`：断言 “abc” 后面跟着一个数字。

**Python示例**：
```python
import re

text = "abc123"
result = re.search(r"abc(?=\d)", text)
print(result.group())  # 输出：abc
```
  
#### 2. 负向前瞻 (?!...)

负向前瞻 (?!...) 用于匹配条件为假的位置，也不包含在最终匹配的字符串中。

**示例**：匹配不以 “abc” 后跟数字的字符串。
```regex
abc(?!\d)
```
解释：

- abc：匹配字符串 “abc”。

- `(?!\d)`：断言 “abc” 后面不是一个数字。

**Python示例**：
```python
import re

text = "abcxyz"
result = re.search(r"abc(?!\d)", text)
print(result.group())  # 输出：abc
```

#### 3.  **正向后顾** (?<=...)

正向后顾 (`?<=...`)用于匹配条件为真的位置，也不包含在最终匹配的字符串中。

**示例：** 匹配 “bar” 前面有 “foo” 的位置，但不包含 “foo”。
```regex
(?<=foo)bar
```

#### 4. **负向后顾** (?<!...)

负向后顾 (?!...) 用于匹配条件为假的位置，也不包含在最终匹配的字符串中。

**示例：** 匹配 “bar” 前面没有 “foo” 的位置，但不包含 “foo”。
```regex
(?<!=foo)bar
```

#### 5. 密码匹配举例

可以利用多个正向断言来定义复杂条件，比如匹配长度为 8-12 且包含字母、数字和特殊字符的密码。
```regex
^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,12}$
```
解释：

- `(?=.*[A-Za-z])`：正向断言，包含至少一个字母。

- `(?=.*\d)`：正向断言，包含至少一个数字。

- `(?=.*[@$!%*?&])`：正向断言，包含至少一个特殊字符。

- `[A-Za-z\d@$!%*?&]{8,12}`：限制整体长度为 8 到 12 个字符。
