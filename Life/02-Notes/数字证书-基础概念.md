---
category:
  - Tech
tags:
  - Certificate
status: Done
---
#### 1. 数字证书是什么

数字证书（Digital Certificate）是一种电子文档，用于证明公开密钥的所有者身份。它通过权威的认证机构（如苹果或其他证书颁发机构）进行签名，从而确认该密钥的真实性。

数字证书的核心作用包括：**身份认证**、**数据加密**和**数据完整性验证**，常见于 HTTPS 网站、虚拟专用网络 (VPN)、企业系统登录等需要安全通信的场景中。

数字证书的内容主要包括以下关键部分：
1. **证书持有者信息**：
      - 包含持有者的身份信息，如姓名、组织名称、邮箱地址和所在地等。
      - 在服务器证书中，通常包含域名信息。

2. **公钥**：

      - 持有者的公开密钥，用户可以利用它加密数据，确保只有持有者能够解密。
      - 公钥是由非对称加密算法生成的，与持有者的私钥成对存在。

3. **证书有效期**：

      - 证书的起始日期和终止日期，标记证书的生命周期。超过有效期后，证书将失效，需要重新申请或续签。

4. **证书颁发机构信息**：

      - 颁发证书的机构信息，如 CA 的名称、网址和数字签名等。CA 的身份信息也存储在证书中，以便验证来源的可靠性。

5. **签名算法**：

      - 用于生成数字签名的算法（如 SHA-256、SHA-3 等），决定了加密强度和数据完整性验证的安全性。

6. **数字签名**：

      - 证书颁发机构对证书的签名，用于验证证书是否被篡改。
      - 通过 CA 的私钥对证书内容进行加密形成，用户可以用 CA 的公钥验证签名的真实性。

#### 2. 公钥、私钥
**公钥**和**私钥**是加密技术中的核心概念，通常成对出现：
- **公钥**：公开的，任何人都可以使用它来加密数据。通常存放在数字证书中，供外部使用。
- **私钥**：私密的，持有者自行保管，用于解密使用公钥加密的数据。私钥绝对不能泄露，因为一旦泄露，数据的安全性就会受到威胁。

**示例**：
- 公钥可以加密数据，私钥负责解密。
- 签名时，使用私钥对数据进行签名，接收方使用公钥来验证签名的合法性。

#### 3. 签名与验证流程
数字签名用于确保数据的完整性和身份的真实性。签名与验证的基本流程如下：

1. **签名过程**：
   - 发送方首先对数据生成一个哈希值（hash）。
   - 发送方使用自己的私钥对哈希值进行加密，生成数字签名。
   - 数据和数字签名一起发送给接收方。

2. **验证过程**：
   - 接收方收到数据和签名后，首先使用发送方的公钥对签名进行解密，得到原始的哈希值。
   - 接收方再对收到的数据进行相同的哈希计算。
   - 接收方比较这两个哈希值。如果相同，证明数据完整且发送方身份可信；否则，数据可能被篡改或发送方身份不合法。

 **总结**：
- **公钥**和**私钥**相辅相成：公钥公开，私钥私密。
- **数字签名**：确保数据未被篡改，并且发送者身份真实。
- 证书中的**公钥**由颁发机构签名，确保证书持有者的合法性。

#### 4. 摘要&数字签名

1. 摘要  
    一段信息，经过摘要算法得到一串哈希值（hash），就是摘要（dijest）。
    常见的摘要算法有MD5、SHA1、SHA256、SHA512等。
    摘要的特点：
    - 摘要算法，是把任意长度的信息，映射成一个定长的字符串。
    - 摘要算法，两个不同的信息，是有可能算出同一个摘要值的。
    - 摘要算法与加密算法不同，不存在解密的过程。
    - 摘要算法不用于数据的保密，而是用于数据的完整性校验。
2. 数字签名  
    摘要经过私钥的加密后，便有了一个新的名字 -- 数字签名。
	- 签名 是在发送方，这是一个加密的过程。
	- 验签 是在接收方，这是一个解密的过程。


>[!question] **思考：为什么要有摘要且对摘要加密签名，而不是直接对内容加密签名**
>
>签名是非对称加密，速度很慢且数据量大，所以如果直接对内容进行签名的话会导致效率低下

