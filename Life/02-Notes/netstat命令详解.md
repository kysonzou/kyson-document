---
category:
  - Tech
tags:
  - Linux
  - MacOS
status: Done
---
# Netstat 命令详解

**`netstat`** (network statistics_是一个网络工具，用于显示系统当前的网络连接、监听的端口、路由表、接口统计信息等。它是网络调试和诊断的常用工具，但在现代 Linux 系统中逐渐被 **`ss`** 命令取代。

---

## **功能概述**

`netstat` 提供以下主要功能：

1. **显示网络连接**（包括 TCP、UDP 连接）。
2. **显示监听的端口**（包括服务及其状态）。
3. **查看路由表**。
4. **显示网络接口的统计信息**。
5. **监控多播组的成员关系**。

---

## **基本语法**

```bash
netstat [选项]
```

---

## **常用选项**

| 选项   | 功能说明                       |
| ---- | -------------------------- |
| `-a` | 显示所有连接和监听端口。               |
| `-t` | 显示 TCP 连接。                 |
| `-u` | 显示 UDP 连接。                 |
| `-l` | 显示正在监听的套接字（Listening）。     |
| `-n` | 以数字形式显示地址和端口号。             |
| `-p` | 显示连接对应的进程及 PID（需 root 权限）。 |
| `-r` | 显示路由表。                     |
| `-e` | 显示更多详细信息（扩展信息）。            |
| `-c` | 每隔一定时间重复显示网络信息。            |

---

## **常用实例**

### 1. 查看所有网络连接

```bash
netstat -a
```

- 显示所有活动连接（TCP 和 UDP）以及监听端口。

### 2. 查看所有 TCP 连接

```bash
netstat -t
```

- 仅显示 TCP 连接。

### 3. 查看所有 UDP 连接

```bash
netstat -u
```

- 仅显示 UDP 连接。

### 4. 查看监听的端口

```bash
netstat -l
```

- 列出当前系统中所有正在监听的端口。

### 5. 查看端口号对应的进程

```bash
sudo netstat -p
```

- 需要 root 权限，显示每个连接的进程和 PID。

### 6. 显示 IP 地址和端口号

```bash
netstat -n
```

- 不解析主机名和服务名，直接显示数字形式的地址和端口号。

### 7. 查看系统的路由表

```bash
netstat -r
```

- 显示系统的路由信息，包括网关和目标网络。

### 8. 查看接口统计信息

```bash
netstat -e
```

- 显示网络接口的扩展信息，如发送和接收的数据包数量。

### 9. 实时监控网络状态

```bash
netstat -c
```

- 每隔一定时间重复显示当前的网络连接状态。