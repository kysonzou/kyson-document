---
category:
  - Tech
tags:
  - TCPIP
status: Done
---
**CIDR（Classless Inter-Domain Routing，无类别域间路由）** 是一种IP地址分配和路由选择方法，旨在提高地址空间的利用效率并简化互联网路由表。

- CIDR引入了一种更灵活的网络前缀表示方法，取代了早期的A、B、C类地址划分。
- CIDR也是IPv6地址的主要表示方法

#### **1. 什么是CIDR？**

CIDR是一种允许使用可变长度子网掩码的地址分配方法，它不受限于A、B、C类地址的固定网络号和主机号位数。CIDR通过将网络划分为任意大小的地址块，提供了更灵活和高效的地址分配和管理方式。

- **CIDR表示法**：CIDR使用网络前缀长度来表示网络和主机部分，例如192.168.1.0/24表示网络前24位是网络号，剩下的8位是主机号。

- **可变长度前缀（VLSM）**：CIDR允许使用不同长度的前缀来创建大小不同的子网，从而满足不同网络规模的需求。

#### **2. CIDR如何工作？**

CIDR通过网络前缀和IP地址块来定义网络。例如，192.168.1.0/24表示该网络的前24位是网络前缀，共包含256个IP地址（从192.168.1.0到192.168.1.255）。

CIDR可以将多个连续的IP地址块聚合为一个大的网络地址范围。例如：

- 地址块192.168.0.0/24、192.168.1.0/24、192.168.2.0/24和192.168.3.0/24可以表示为192.168.0.0/22，其中网络前22位相同。

#### **3. CIDR如何简化路由表？**

CIDR通过**路由聚合（Route Aggregation）** 或**路由汇总（Route Summarization）** 来简化路由表。路由器可以将多个具有相同前缀的网络合并为一个单独的路由条目，从而减少路由表的大小，提高路由效率。以下是详细机制：

##### **3.1 路由聚合的原理**

假设一个ISP有以下多个子网：

• 192.168.0.0/24

• 192.168.1.0/24

• 192.168.2.0/24

• 192.168.3.0/24

在没有CIDR的情况下，路由器需要为每个子网保留一个单独的路由条目，这会导致路由表膨胀。使用CIDR后，这些子网可以合并为一个聚合路由条目192.168.0.0/22，因为它们的前22位是相同的。

• **简化后的路由条目**：192.168.0.0/22

• **好处**：这减少了路由表中的条目数量，提高了路由器的查找速度和整体网络性能。

##### **3.2 路由器的查找效率**

由于CIDR允许路由器使用较少的路由条目处理大量地址空间，路由器查找数据包的匹配路由条目时速度更快。路由聚合减少了全球路由器上维护的路由条目数量，这在大型网络和骨干网中尤为重要。

#### **4. CIDR的优势**

• **灵活的地址分配**：CIDR可以根据实际需求分配任意大小的地址块，避免了固定类别划分带来的浪费。

• **减少路由表规模**：通过路由聚合，CIDR显著减少了路由表中的条目数量，降低了路由器的处理负担。

• **更好的地址空间利用**：CIDR打破了A、B、C类的固定地址结构，允许更高效的子网划分和地址分配。

#### **5. CIDR的示例**

  
**示例1：灵活分配IP地址**

• 一个组织需要1000个IP地址，可以使用CIDR分配一个192.168.0.0/22的块，这个块提供了1024个地址，精确匹配需求。

• 在早期的A、B、C类划分中，可能需要分配一个B类地址块（65534个地址），会导致大量地址浪费。

**示例2：路由聚合**

• 多个公司或子网使用连续的地址块203.0.113.0/24、203.0.114.0/24、203.0.115.0/24，可以在路由表中合并为203.0.112.0/22。

• 这减少了路由器的条目数量，从3个减少到1个，提高了路由效率。

#### **6. 总结**

**CIDR（无类别域间路由）** 是一种增强型的IP地址分配和路由方法，允许使用任意长度的网络前缀来分配地址块和管理路由表。通过路由聚合，CIDR可以将多个连续地址块合并为一个路由条目，从而简化路由表，减少路由器的负担，并提高网络性能。CIDR的引入解决了传统A、B、C类地址划分的缺陷，提升了IP地址空间的利用效率，是现代互联网路由和IP地址管理的核心技术之一。