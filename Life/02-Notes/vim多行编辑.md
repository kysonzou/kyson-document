---
category:
  - Tech
tags:
  - Linux
  - MacOS
status: Done
---
在 Vim 中可以通过**多行编辑模式**实现批量操作，例如添加注释、粘贴外部文字等操作。以下是具体实现方法：

**1. 使用 Visual Block 模式（可视块模式）**

1. 进入可视块模式：

    - 将光标移动到需要注释的第一行。
    - 按下 Ctrl-v，进入可视块模式。

2. 选中多行：

    - 使用上下方向键选中需要添加注释的多行。

3. 插入 \#：

    - 按下 Shift-i 进入插入模式。
    - 输入 \#，然后按 Esc。
    - \# 会自动添加到选中的所有行。


**2：使用 :normal 命令**

1. 选中行范围：  
   假设需要注释第 3 行到第 10 行：
    ```
    :3,10normal I#
    ```
    normal I# 表示对选中行的开头插入 \#。

2. 如果要注释当前文件的所有行：
    ```
    :%normal I#
    ```

**3：使用查找替换**

1. 对选中行添加注释：
   选中行（如第 3 行到第 10 行）：
   ```
   :3,10s/^/#/
    ```
   ^ 表示行首，# 是要插入的字符。

2. 对文件的所有行添加注释：
   ```
   :%s/^/#/
    ```


