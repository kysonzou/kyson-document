---
category:
  - Tech
tags:
  - TCPIP
status: Done
---
深入理解IPv4地址格式对于网络配置和管理至关重要。IPv4地址不仅用于标识网络中的设备，还涉及到网络分类、子网划分和CIDR（无类别域间路由）的应用。以下将详细介绍IPv4地址的分类、子网划分及CIDR。

#### **1 Pv4地址分类**

IPv4地址根据其前几位的二进制模式被划分为不同的类别，每一类适用于不同规模的网络。传统上，IPv4地址分为A、B、C、D和E类。

##### A类地址

- **地址范围**：0.0.0.0 至 127.255.255.255
- **网络部分和主机部分**：
    - **网络部分**：前8位
    - **主机部分**：后24位
- **用途**：适用于大型网络，如跨国公司或大型互联网服务提供商。
- **示例**：10.0.0.1
- **特点**：
    - 第一位固定为0。
    - 可提供约1677万（2²⁴ - 2）个主机地址。

##### B类地址

- **地址范围**：128.0.0.0 至 191.255.255.255
- **网络部分和主机部分**：
    - **网络部分**：前16位
    - **主机部分**：后16位
- **用途**：适用于中型网络，如大学或中型企业。
- **示例**：172.16.0.1
- **特点**：
    - 前两位固定为10。
    - 可提供约65534（2¹⁶ - 2）个主机地址。

##### C类地址

- **地址范围**：192.0.0.0 至 223.255.255.255
- **网络部分和主机部分**：
    - **网络部分**：前24位
    - **主机部分**：后8位
- **用途**：适用于小型网络，如小企业或家庭网络。
- **示例**：192.168.1.1
- **特点**：
    - 前三位固定为110。
    - 可提供254（2⁸ - 2）个主机地址。

##### D类地址（[[IPv4组播地址|组播地址]]）

- **地址范围**：224.0.0.0 至 239.255.255.255
- **用途**：用于多播通信，支持一对多或多对多的数据传输，如视频会议和流媒体广播。
- **特点**：
    - 前四位固定为1110。
    - 不用于普通的主机地址分配。

##### E类地址（实验地址）

- **地址范围**：240.0.0.0 至 255.255.255.255
- **用途**：保留用于未来的实验用途，不用于公共互联网中的普通地址分配。
- **特点**：
    - 前四位固定为1111。
    - 主要用于研究和开发。
    - 255.255.255.255（常见的广播地址）

> 固定网络部分这样的划分方式会导致地址的严重浪费，因为网络部分被固定了，不能继续向下划分子网络，这样分到哪类地址的人只能自己用。
>
>早期还通过固定网络号的前几位来**简化网络管理和路由**

#### **2. 子网划分**

**子网划分（Subnetting）** 是将一个大的网络划分为多个更小的子网络（子网）的过程。这样做可以提高网络的管理效率、增强安全性并优化IP地址的利用。

##### 2.1. 子网掩码法表示IPv4地址

**定义**：子网掩码（Subnet Mask）是一个32位的数，用于区分IPv4地址中的网络部分和主机部分。通常与IP地址配合使用，以确定网络的大小和结构。

**表示方法**：与IP地址相同的点分十进制格式，如255.255.255.0，或者使用斜杠表示法，如/24。

**作用**：

- 确定网络部分和主机部分的边界。 
- 帮助路由器和交换机在网络中正确地转发数据包

##### 2.2. CIDR前缀法表示IPv4地址

**CIDR（Classless Inter-Domain Routing，无类别域间路由）**，打破了传统的IP地址分类方法，允许更灵活的子网划分和路由，提高地址空间的利用率和路由表的效率。

**表示方法**：130.1.254.0/24，表示前24位为网络号。

详细笔记可看IP-CIDR
#### 3 私有地址

私有地址是专门保留用于内部网络（如局域网）的IP地址。这些地址不会在公共互联网中进行路由，因此网络设备需要通过NAT（网络地址转换）与外部网络通信。私有地址的范围由RFC 1918标准定义。以下是各类私有地址的详细范围：

##### 3.1 A类私有地址

- **范围**：10.0.0.0 至 10.255.255.255

- **子网掩码**：默认子网掩码为255.0.0.0（/8）

- **可用地址数量**：约1677万（2²⁴ - 2）个

- **用途**：适合用于大型局域网或大企业网络，能够容纳大量设备。

##### 3.2 B类私有地址

- **范围**：172.16.0.0 至 172.31.255.255

- **子网掩码**：默认子网掩码为255.240.0.0（/12）

- **可用地址数量**：约104万（2²⁰ - 2）个

- **用途**：适合用于中型网络，如大学校园网或中型公司。

##### 3.3 C类私有地址

- **范围**：192.168.0.0 至 192.168.255.255

- **子网掩码**：默认子网掩码为255.255.0.0（/16）

- **可用地址数量**：约6.5万（2¹⁶ - 2）个

- **用途**：适合用于小型网络，如家庭网络和小型办公室。

##### 3.4. 私有地址的特点

- **不在公网中路由**：私有地址仅在局域网内有效，不会通过互联网路由。

- **NAT的使用**：[[IPv4-NAT地址转换|NAT地址转换]]用于将私有地址映射到公有IP地址，使得内网设备可以与公网通信。

- **安全性**：由于私有地址不会在互联网中暴露，内网设备在默认情况下不容易受到外部直接攻击，从而提供了一定的安全保护。

#### 4. 其他特殊地址

虽然不属于私有地址的范围，但有一些地址常在局域网中使用：

##### 5.1. [[IPv4-回环地址|回环地址]]

 **环回地址（Loopback Address）**：127.0.0.0 至 127.255.255.255，通常用于测试本地主机的网络栈（最常见的是127.0.0.1）。常见应用

 - **Web开发**：开发者在本地运行Web服务器时，常使用127.0.0.1或localhost来访问该服务器，而不需要通过外部网络。

- **数据库连接**：本地数据库服务在测试或开发环境中，客户端通常使用127.0.0.1与数据库连接。

- **诊断和调试**：使用工具如ping或traceroute命令测试环回地址，确保网络协议栈在本地工作正常。例如：

```bash
ping 127.0.0.1
```

详细笔记可看IP环回地址
##### 5.2 自动专用IP地址

**链路本地地址（Link-local Address）**：169.254.0.0 至 169.254.255.255，用于自动IP地址分配（APIPA）时，设备无法从DHCP服务器获取地址时会使用此范围，这样在家庭网络中设备依然可以进行基本通信。其特点有：

- **自动生成**：设备检测到没有DHCP服务器可用时，会自动生成一个APIPA地址，通常为169.254.x.x，并在局域网中使用。
- **仅限本地**：APIPA地址只在同一局域网内有效，数据包不会被路由器转发到其他网络。
- **设备发现**：用于本地设备的自动发现和临时通信，确保网络中设备可以进行基础通信。

详细笔记可看IPv6与IPv4链路本地地址比较
##### 5.3 [[IPv4广播地址|广播地址]]

在IPv4网络中，广播地址用于将数据包发送给网络内的所有设备。广播地址通常是通过将子网内所有主机位的位置设为1来表示的。例如：

- 如果一个网络的子网是 192.168.1.0/24，它的广播地址就是 192.168.1.255。这里的 255 表示主机位全部为 1。

广播地址不能用作单个主机的 IP 地址。

广播有两种主要类型：

1. **受限广播（Limited Broadcast）**：255.255.255.255，用于发送到本地网络的所有设备，不会跨路由器传播。

2. **定向广播（Directed Broadcast）**：发送到特定子网的所有设备，比如 192.168.1.255。

这些广播地址在IPv4网络中用于服务发现、网络请求或管理功能，如 ARP 请求。


