---
category:
- Tech
tags:
- RegularE
status: Done
---

#### 1. 正则表达式简介

正则表达式（Regular Expression, regex）是一种字符串匹配的模式，用于查找、匹配、替换、分割字符串。通过正则表达式，你可以用简单的规则匹配复杂的字符串模式，是文本处理、数据提取等场景中的重要工具。

#### 2. 普通字符

匹配自身的字符，没有特殊意义。

- **字母和数字**：a-z, A-Z, 0-9

- **标点符号**：**.**(点), -(连字符), @(邮箱符号) 等常见字符

- **转义字符**：若普通字符本身有特殊含义（如 *），可通过 \ 进行转义。

#### 3. 元字符

元字符具有特殊意义，用于构建复杂的匹配模式。

- **.**：匹配除换行符 \n 外的任意字符
- [abc]：匹配 a 或 b 或 c

- [\^abc]：匹配除 a, b, c 外的任意字符

- [a-zA-Z0-9]：匹配小写字母、大写字母、数字范围

- \d：匹配数字，等价于 [0-9]

- \D：匹配非数字，等价于 [\^0-9]

- \w：匹配单词字符（字母、数字、下划线），等价于 [a-zA-Z0-9_]

- \W：匹配非单词字符，等价于 [\^a-zA-Z0-9_]

- \s：匹配空白字符（空格、制表符、换行符等）

- \S：匹配非空白字符，等价于 [^ \t\r\n\f\v]。

#### 4. 量词

用于指定匹配次数。

- \*：匹配前面的字符 0 次或多次，等价于 {0,}

- +：匹配前面的字符 1 次或多次，等价于 {1,}

- ?：匹配前面的字符 0 次或 1 次，等价于 {0,1}

- {n}：匹配前面的字符恰好 n 次

- {n,}：匹配前面的字符至少 n 次

- {n,m}：匹配前面的字符至少 n 次，至多 m 次

#### 5. 分界符

用于标识匹配的起点和终点。

- ^：匹配字符串的开始

- $：匹配字符串的结束

- \b：匹配单词边界（字母和非字母的分界处）

- \B：匹配非单词边界

#### 6. 分组与引用

用于逻辑分组、捕获和引用。

- ()：分组，捕获子表达式  

     - 例：(abc)+ 表示匹配 abc 的重复

- (?:...)：非捕获分组，不保存匹配结果

- \n：引用第 n 个捕获组的内容

    - 例：(\d)\1 匹配重复的数字，如 11

#### 7. 逻辑运算符

用于构建复杂的匹配条件。

- |：或运算，匹配 | 两边的任意一个表达式

    - 例：abc|xyz 匹配 abc 或 xyz

- (?(id)yes|no)：条件判断

    - 例：(?(1)yes|no) 如果组 1 存在，则匹配 yes，否则匹配 no

#### 8. 转义字符

用于匹配元字符的字面值。

- \：转义符号，将元字符还原为普通字符

    - 例：\. 匹配点号，而非任意字符

#### 9. 注释（扩展模式下）

用于添加说明，便于理解复杂正则。
 \#：注释，需在启用扩展模式时（如 Python 的 re.VERBOSE 模式）生效
```python
re.compile(r"""
^\d+   # 数字开头
abc$   # 以 abc 结尾
""", re.VERBOSE)
```

#### 10. 定位符

匹配特定的位置或条件。

- (?=...)：正向先行断言

    - 例：\d(?=abc) 匹配数字，前提是后面跟着 abc

- (?!...)：负向先行断言

    - 例：\d(?!abc) 匹配数字，前提是后面不跟 abc

- (?<=...)：正向后行断言

    - 例：(?<=abc)\d 匹配数字，前提是前面是 abc

- (?<!...)：负向后行断言

    - 例：(?<!abc)\d 匹配数字，前提是前面不是 abc

#### 11. 其他符号

- \n：换行符

- \t：制表符

- \r：回车符

#### 12. 否定字符类

否定字符类通过在方括号 \[] 内加入 ^ 来表示匹配 **不属于** 指定范围的字符。  
 **例子**：

- [\^a-z]：匹配非小写字母的任意字符。

- [\^0-9]：匹配非数字的任意字符。

- [\^abc]：匹配除 a, b, c 以外的任意字符。

#### 常见正则表达式工具

- **[Regex101](https://regex101.com)**：支持 Python、JavaScript 等多种正则语法的调试和解释。

- **[Regexr](https://regexr.com)**：提供正则表达式的可视化调试，支持解释和练习。
