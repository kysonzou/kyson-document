---
category:
  - Tech
tags:
  - TCPIP
status: Done
---
### 1. 校验和（Checksum）

#### **1.1 校验和的原理**

校验和是一种简单的错误检测机制，用于确保数据在传输过程中未被篡改或损坏。在IP协议中，校验和主要用于验证IP头部的完整性。

 **计算方法**：

- 将IP头部的所有16位字（不包括校验和字段本身）相加，得到一个总和。

- 如果总和超过16位，则将高位溢出的部分加回到低位。

- 对总和取反，得到校验和值。

 **验证过程**：

- 接收方同样计算接收到的IP头部的校验和。

- 如果计算结果为全1（即0xFFFF），则说明IP头部在传输过程中未发生错误。

- 如果结果不为全1，则表明IP头部存在错误，数据包将被丢弃。

#### **1.2. IP头部校验和的作用**

- **错误检测**：主要用于检测IP头部在传输过程中是否发生了错误，如位翻转、数据损坏等。

- **简化处理**：由于只对IP头部进行校验和计算，减少了计算量，提高了处理效率。

#### **1.3. 校验和的局限性**

- **仅限于IP头部**：IP校验和仅覆盖IP头部，不包括数据负载部分。这意味着数据部分的错误无法通过IP校验和检测。

- **简单的错误检测**：校验和只能检测到某些类型的错误，如奇数个比特错误。对于偶数个比特错误，校验和可能无法检测到。

- **不提供纠错功能**：校验和只能检测错误，无法修复错误。需要依赖更高层的协议（如TCP）来处理错误。
 